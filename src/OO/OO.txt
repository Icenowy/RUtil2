/*
    Title: OO

        Object Oriented Programming in C.
*/

/*
    Variable: __ClassID__

        The counter which assigns each RClass a unique class number.
        
        Automatically increases by 1 when a RCtor for a RClass is defined.
*/
int __ClassID__;

/*
    Section: RClass

    Macro: RClass

        Defines a RClass.
        
        Usage:
        
        (start code)
        RClass(ClassName)
        {
            ...
        };
        (end)
        
        Example:
        
        (start code)
        RClass(MyClass)
        {
            RInherit(RObject);
            int a;
            int b;
            int c;
        };
        (end)
        
    See also:
    
        <RInherit>
        
        <RCtor>
        
        <RDtor>
        
        <RInit>
*/

/*
    Macro: RInherit

        Inherit a RClass from another RClass.
        
        All RClasses should at least inherit RObject.
        
        Usage:
        
        (start code)
        RClass(ClassName)
        {
            RInherit(BaseClassName);
            ...
        };
        (end)
        
        Example:
        
        (start code)
        RClass(MyBaseClass)
        {
            RInherit(RObject);
            int a;
            int b;
            int c;
        };
        
        RClass(MyParentClass)
        {
            RInherit(MyBaseClass);
            int d;
            int e;
            int f;
        };
        (end)
        
    See also:
    
        <RClass>
*/

/*
    Macro: RCtor

        Defines the constructor of a RClass.
        
        All RClasses should have a constructor.
        
        Usage:
        
        > RCtor(a)
        
        This is equivalent to
        
        > void a_Ctor(a* This)
        
        Example:
        
        (start code)
        RClass(MyClass)
        {
            RInherit(RObject);
            int a;
            int b;
            int c;
        };
        
        RCtor(MyClass)
        {
            This -> a = 0;
            This -> b = 0;
            This -> c = 0;
            RInit(MyClass);
        };
        (end)
        
    See also:
    
        <RClass>
        
        <RInit>
        
        <RDtor>
*/

/*
    Macro: RDtor

        Defines the destructor of a RClass.
        
        All RClasses should have a destructor.
        
        Usage:
        
        > RDtor(a)
        
        This is equivalent to
        
        > void a_Dtor(a* This)
        
        Example:
        
        (start code)
        RClass(MyBaseClass)
        {
            RInherit(RObject);
            int a;
            int b;
            int c;
        };
        
        RDtor(MyClass)
        {
            This -> a = 0;
            This -> b = 0;
            This -> c = 0;
        };
        (end)
        
    See also:
    
        <RClass>
        
        <RCtor>
*/

/*
    Macro: RInit

        Assigns the ClassID to the object.
        
        Should be placed in the end of every RCtors.
        
        Usage:
        
        > RInit(ClassName);
        
        Example:
        
        (start code)
        RClass(MyClass)
        {
            RInherit(RObject);
            int a;
            int b;
            int c;
        };
        
        RCtor(MyClass)
        {
            This -> a = 0;
            This -> b = 0;
            This -> c = 0;
            RInit(MyClass);
        };
        (end)
*/

/*
    Section: RInterface

    Macro: RInterface_Start

        Marks the start of RInterface definition.
        
        Usage:
        
        > RInterface_Start();
        
    See also:
    
        <RInterface_Add>
*/

/*
    Macro: RInterface_Add

        Add a method to a RInterface method.
        
        Usage:
            
        > RInterface_Add(ClassName, MethodName)(Arg1, Arg2, ...);
        
        Example:
        
        (start code)
        int MyClass_Method(MyClass* This)
        {
            ...
        }
        
        int MyClass2_Method(MyClass2* This)
        {
            ...
        }

        int IObject_Method(RObject* This)
        {
            RInterface_Start();
            RInterface_Add(MyClass, Method)(MyBase(MyClass));
            RInterface_Add(MyClass2, Method)(MyBase(MyClass2));
            return 0;
        }
        (end)
        
    See also:
    
        <RInterface_Start>
*/

/*
    Section: Auxillaries

    Macro: MyBase

        Converts 'This' pointer to a specified base class.
        
        Usage:
        
        > MyBase(BaseClassName);
        
        Example:
        
        (start code)
        RClass(MyClass)
        {
            RInherit(RObject);
        };
        
        RCtor(MyClass)
        {
            printf("My ClassID is %d\n", MyBase(RObject) -> ClassID);
            RInit(MyClass);
        };
        (end)
        
        See also:
        
            <RInherit>
*/

